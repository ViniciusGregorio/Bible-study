<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Quiz B√≠blico 2.0</title>
<style>
body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: white;
    text-align: center;
    margin: 0;
    padding: 0;
}

.container {
    width: 90%;
    max-width: 800px;
    margin: auto;
    padding: 20px;
}

h1 {
    color: #00ffff;
    text-shadow: 0 0 15px cyan;
}

button {
    padding: 10px 20px;
    margin: 10px;
    border: none;
    background: cyan;
    color: black;
    cursor: pointer;
    border-radius: 8px;
    font-weight: bold;
    transition: 0.3s;
}

button:hover {
    background: white;
}

input {
    padding: 10px;
    border-radius: 5px;
    border: none;
}

.card {
    background: rgba(255,255,255,0.1);
    padding: 20px;
    border-radius: 10px;
    margin-top: 20px;
    box-shadow: 0 0 15px cyan;
}

.hidden {
    display: none;
}

.ranking {
    text-align: left;
}
</style>
</head>
<body>

<div class="container">
    <h1>‚ö° Quiz B√≠blico Futurista ‚ö°</h1>

    <div id="start">
        <input type="text" id="playerName" placeholder="Digite seu nome">
        <br>
        <button onclick="startQuiz()">Iniciar</button>
    </div>

    <div id="quiz" class="hidden">
        <h2 id="theme"></h2>
        <div class="card">
            <p id="question"></p>
            <div id="answers"></div>
        </div>
        <p>Pontua√ß√£o: <span id="score">0</span></p>
    </div>

    <div id="result" class="hidden">
        <h2>Resultado Final</h2>
        <p id="finalScore"></p>
        <h3>Explica√ß√µes:</h3>
        <div id="explanations"></div>
        <button onclick="showRanking()">Ver Ranking</button>
    </div>

    <div id="ranking" class="hidden">
        <h2>üèÜ Ranking</h2>
        <div class="ranking" id="rankingList"></div>
        <button onclick="restart()">Jogar Novamente</button>
    </div>
</div>

<script>
let questions = [
    {
        theme: "Antigo Testamento",
        question: "Quem construiu a arca?",
        answers: ["Mois√©s", "Abra√£o", "No√©", "Davi"],
        correct: 2,
        explanation: "No√© construiu a arca por ordem de Deus (G√™nesis 6)."
    },
    {
        theme: "Novo Testamento",
        question: "Quem batizou Jesus?",
        answers: ["Pedro", "Jo√£o Batista", "Paulo", "Tiago"],
        correct: 1,
        explanation: "Jo√£o Batista batizou Jesus no rio Jord√£o."
    },
    {
        theme: "Profetas",
        question: "Quem enfrentou os profetas de Baal no Monte Carmelo?",
        answers: ["Isa√≠as", "Jeremias", "Elias", "Ezequiel"],
        correct: 2,
        explanation: "Elias desafiou os profetas de Baal (1 Reis 18)."
    }
];

let currentQuestion = 0;
let score = 0;
let player = "";

function startQuiz() {
    player = document.getElementById("playerName").value;
    if(player === "") {
        alert("Digite seu nome!");
        return;
    }
    document.getElementById("start").classList.add("hidden");
    document.getElementById("quiz").classList.remove("hidden");
    loadQuestion();
}

function loadQuestion() {
    let q = questions[currentQuestion];
    document.getElementById("theme").innerText = "Tema: " + q.theme;
    document.getElementById("question").innerText = q.question;

    let answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";

    q.answers.forEach((answer, index) => {
        let btn = document.createElement("button");
        btn.innerText = answer;
        btn.onclick = () => checkAnswer(index);
        answersDiv.appendChild(btn);
    });
}

function checkAnswer(index) {
    if(index === questions[currentQuestion].correct) {
        score += 10;
    }

    currentQuestion++;

    if(currentQuestion < questions.length) {
        loadQuestion();
    } else {
        showResult();
    }

    document.getElementById("score").innerText = score;
}

function showResult() {
    document.getElementById("quiz").classList.add("hidden");
    document.getElementById("result").classList.remove("hidden");

    document.getElementById("finalScore").innerText =
        player + ", sua pontua√ß√£o foi: " + score;

    let explanationsDiv = document.getElementById("explanations");
    explanationsDiv.innerHTML = "";

    questions.forEach(q => {
        let p = document.createElement("p");
        p.innerText = q.explanation;
        explanationsDiv.appendChild(p);
    });

    saveRanking();
}

function saveRanking() {
    let ranking = JSON.parse(localStorage.getItem("ranking")) || [];
    ranking.push({name: player, score: score});
    ranking.sort((a,b) => b.score - a.score);
    localStorage.setItem("ranking", JSON.stringify(ranking));
}

function showRanking() {
    document.getElementById("result").classList.add("hidden");
    document.getElementById("ranking").classList.remove("hidden");

    let ranking = JSON.parse(localStorage.getItem("ranking")) || [];
    let rankingList = document.getElementById("rankingList");
    rankingList.innerHTML = "";

    ranking.forEach((player, index) => {
        let p = document.createElement("p");
        p.innerText = (index+1) + "¬∫ - " + player.name + " (" + player.score + " pts)";
        rankingList.appendChild(p);
    });
}

function restart() {
    location.reload();
}
</script>

</body>
</html>
